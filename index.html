<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AI Chat Ù…Ø¨Ø§Ø´Ø±</title>
<style>
body { margin:0; font-family:Arial,sans-serif; display:flex; flex-direction:column; height:100vh; background:#0f172a; color:white; }
.chat-box { flex:1; padding:20px; overflow-y:auto; display:flex; flex-direction:column; }
.message { max-width:70%; padding:12px; border-radius:12px; margin-bottom:10px; word-wrap: break-word; }
.user { background:#2563eb; align-self:flex-end; }
.bot { background:#1f2937; align-self:flex-start; }
.input-area { display:flex; padding:15px; background:#111827; }
input { flex:1; padding:10px; border-radius:8px; border:none; }
button { margin-left:10px; padding:10px 15px; border-radius:8px; border:none; background:#2563eb; color:white; cursor:pointer; }
.dark-btn { margin:10px 0; padding:10px; border:none; border-radius:6px; background:#444; color:white; cursor:pointer; }
</style>
</head>
<body>

<div class="chat-box" id="chatBox"></div>

<div class="input-area">
  <input type="text" id="userInput" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ..." />
  <button onclick="sendMessage()">Ø¥Ø±Ø³Ø§Ù„</button>
</div>

<button class="dark-btn" onclick="toggleMode()">ØªØºÙŠÙŠØ± Ø§Ù„ÙˆØ¶Ø¹</button>

<script>
let darkMode = true;

// ğŸ”¹ Ø¶Ø¹ Ù…ÙØªØ§Ø­ OpenAI Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ Ù‡Ù†Ø§ Ù…Ø¨Ø§Ø´Ø±Ø©
const API_KEY = "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";

function toggleMode() {
  darkMode = !darkMode;
  document.body.style.background = darkMode ? "#0f172a" : "#f3f4f6";
  document.body.style.color = darkMode ? "white" : "black";
}

function addMessage(text, sender){
  const chatBox = document.getElementById("chatBox");
  const msg = document.createElement("div");
  msg.className = "message " + sender;
  msg.textContent = text;
  chatBox.appendChild(msg);
  chatBox.scrollTop = chatBox.scrollHeight;
}

async function sendMessage() {
  const input = document.getElementById("userInput");
  const message = input.value.trim();
  if(!message) return;
  addMessage(message,"user");
  input.value = "";

  try {
    const response = await fetch("https://api.openai.com/v1/chat/completions", {
      method:"POST",
      headers:{
        "Content-Type":"application/json",
        "Authorization": `Bearer ${API_KEY}`
      },
      body: JSON.stringify({
        model: "gpt-4.1-mini",
        messages:[
          { role:"system", content:"Ø£Ù†Øª Ù…Ø³Ø§Ø¹Ø¯ Ø°ÙƒÙŠ ÙˆÙˆØ¯ÙˆØ¯ Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©." },
          { role:"user", content: message }
        ]
      })
    });

    const data = await response.json();
    addMessage(data.choices[0].message.content,"bot");

  } catch (err) {
    addMessage("Ø­ØµÙ„ Ø®Ø·Ø£ØŒ Ø­Ø§ÙˆÙ„ ØªØ§Ù†ÙŠ","bot");
    console.error(err);
  }
}

// Ø¥Ø±Ø³Ø§Ù„ Ø¨Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Enter
document.getElementById("userInput").addEventListener("keypress",function(e){
  if(e.key==="Enter") sendMessage();
});
</script>

</body>
</html>